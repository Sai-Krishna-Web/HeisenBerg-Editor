(this.webpackJsonpdrafteditor=this.webpackJsonpdrafteditor||[]).push([[0],{166:function(e,t,n){e.exports=n.p+"static/media/DocIcon.c010e6e3.png"},179:function(e,t,n){},263:function(e,t,n){e.exports=n.p+"static/media/loading.c5590569.svg"},296:function(e,t,n){e.exports=n(540)},540:function(e,t,n){"use strict";n.r(t);var a=n(50),i=n.n(a),r=n(0),o=n.n(r),l=n(553),c=(n(179),n(63)),u=n.n(c),s=n(127),m=n(64),d=n(261),g=n(262),p=n(263),f=n.n(p),v=function(){return o.a.createElement("div",{style:{position:"absolute",display:"flex",justifyContent:"center",height:"100vh",width:"100vw",top:0,bottom:0,left:0,right:0,backgroundColor:"white"}},o.a.createElement("img",{src:f.a,alt:"loading"}))},E=n(541),h=function(){var e=J(),t=e.loading,n=e.loginWithRedirect;return t?o.a.createElement("div",null,"Loading..."):o.a.createElement("div",{className:"overlay"},o.a.createElement("div",{className:"overlay-content"},o.a.createElement("div",{className:"overlay-heading"},"Welcome to the HeisenBerg Editor"),o.a.createElement("div",{className:"overlay-message"},"Please login to continue"),o.a.createElement("div",{className:"overlay-action"},o.a.createElement(E.a,{id:"qsLoginBtn",variant:"primary",className:"btn-margin loginBtn",onClick:function(){n({})}},"Log In"))))},S=n(33),y=n(72),C=n(73),k=n(76),b=n(285),w=n(23),x=n(549),T=n(550),O=n(283),D=n(272),j=n(286),R=n(166),N=n.n(R),z=[{text:"4",value:4},{text:"8",value:8},{text:"10",value:10},{text:"12",value:12},{text:"14",value:14},{text:"16",value:16},{text:"20",value:20},{text:"24",value:24},{text:"30",value:30},{text:"36",value:36},{text:"42",value:42},{text:"50",value:50},{text:"64",value:64},{text:"72",value:72},{text:"90",value:90}],I={textTransform:"uppercase"},M={textTransform:"lowercase"},U=w.DefaultDraftBlockRenderMap.merge(new D.a({center:{wrapper:o.a.createElement("div",{className:"center-align"})},right:{wrapper:o.a.createElement("div",{className:"right-align"})},left:{wrapper:o.a.createElement("div",{className:"left-align"})},justify:{wrapper:o.a.createElement("div",{className:"justify-align"})}})),L=function(e){Object(k.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(y.a)(this,n),(a=t.call(this,e)).onChange=function(e){a.setState({editorState:e})},a.toggleEditTitle=function(){a.setState({editTitle:!0})},a.changeTitle=function(e){a.setState({title:e.target.value})},a.saveTitle=function(){a.setState({editTitle:!1})},a.falseEditTitle=function(){a.setState({editTitle:!1})},a.saveCurrent=function(){a.setState({prevSave:new Date});var e=JSON.stringify(Object(w.convertToRaw)(a.state.editorState.getCurrentContent())),t=JSON.stringify({title:a.state.title,editor:e,styles:a.state.inlineStyles});"undefined"!==typeof Storage?localStorage.setItem("docs",t):alert("Sorry, your browser does not support web storage...")},a.confirmClear=function(){a.setState({editorState:w.EditorState.createEmpty()})},a.saveDate=function(){return new Date(a.state.prevSave).toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})},a.onUndoClick=function(e){e.preventDefault(),a.onChange(w.EditorState.undo(a.state.editorState))},a.onRedoClick=function(e){e.preventDefault(),a.onChange(w.EditorState.redo(a.state.editorState))},a.onFontChange=function(e){var t=Object.assign({},a.state.inlineStyles,Object(S.a)({},e.value,{fontSize:"".concat(e.value,"px")}));a.setState({inlineStyles:t,editorState:w.RichUtils.toggleInlineStyle(a.state.editorState,e.value),fontSize:e.value})},a.onChangeColor=function(e){var t=Object.assign({},a.state.inlineStyles,Object(S.a)({},e.hex,{color:e.hex}));a.setState({inlineStyles:t}),a.onChange(w.RichUtils.toggleInlineStyle(a.state.editorState,e.hex))},a.onStyleClick=function(e,t){e.preventDefault(),a.onChange(w.RichUtils.toggleInlineStyle(a.state.editorState,t))},a.onUnorderListClick=function(e){e.preventDefault(),a.onChange(w.RichUtils.toggleBlockType(a.state.editorState,"unordered-list-item"))},a.onOrderListClick=function(e){e.preventDefault(),a.onChange(w.RichUtils.toggleBlockType(a.state.editorState,"ordered-list-item"))},a.onTextAlign=function(e,t){e.preventDefault(),a.onChange(w.RichUtils.toggleBlockType(a.state.editorState,t))},a.state={editorState:w.EditorState.createEmpty(),inlineStyles:{UPPERCASE:I,LOWERCASE:M},activeFontFamily:"Open Sans",fontSize:12,title:"Untitle Doc",editTitle:!1,prevSave:new Date},a}return Object(C.a)(n,[{key:"componentDidMount",value:function(){var e=this;if("undefined"!==typeof Storage){if(null!==localStorage.getItem("docs")){var t=JSON.parse(localStorage.getItem("docs")),n=JSON.parse(t.editor);setTimeout((function(){e.setState({title:t.title,nlineStyles:t.styles}),e.setState({editorState:w.EditorState.createWithContent(Object(w.convertFromRaw)(n))})}),1e3)}}else alert("Sorry, your browser does not support web storage...")}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("div",{className:"outerContainer"},o.a.createElement("div",{className:"outerBar"},o.a.createElement("div",null," "),o.a.createElement("div",{className:"TitleBar"},o.a.createElement("div",{className:"inline docTitle",onClick:function(){return e.toggleEditTitle()}},this.state.editTitle?o.a.createElement("div",null,o.a.createElement(x.a,{transparent:!0,size:"small",value:this.state.title,onChange:function(t){return e.changeTitle(t)}},o.a.createElement("input",null),o.a.createElement(E.a,{size:"mini",onMouseDown:function(){return e.saveTitle()},icon:"check"}),o.a.createElement(E.a,{size:"mini",onMouseDown:function(){return e.falseEditTitle()},icon:"x"}))):o.a.createElement("h2",null,this.state.title))),o.a.createElement("div",null,o.a.createElement(E.a,{compact:!0,size:"small",icon:"save",onClick:function(){return e.saveCurrent()}}),o.a.createElement(E.a,{compact:!0,size:"small"},o.a.createElement(T.a,{floating:!0,icon:"trash"},o.a.createElement(T.a.Menu,{direction:"left"},o.a.createElement(T.a.Item,{text:"Clear document",onClick:function(){return e.confirmClear()}})))))),o.a.createElement("div",{className:"saveTime"},o.a.createElement("em",null,"Last saved on ",this.saveDate()))),o.a.createElement("div",null,o.a.createElement(E.a.Group,null,o.a.createElement(E.a,{size:"mini",icon:"undo",onMouseDown:function(t){return e.onUndoClick(t)}}),o.a.createElement(E.a,{size:"mini",icon:"redo",onMouseDown:function(t){return e.onRedoClick(t)}}))," ",o.a.createElement(j.a,{apiKey:"AIzaSyDdA6xqqZiqD85me7hwxE496xaWuy1fwis",activeFontFamily:this.state.activeFontFamily,onChange:function(t){return e.setState({activeFontFamily:t.family})}}),o.a.createElement(T.a,{compact:!0,selection:!0,defaultValue:this.state.fontSize,options:z,onChange:function(t,n){return e.onFontChange(n)}})," ",o.a.createElement(E.a.Group,null,o.a.createElement(E.a,{size:"mini",icon:"bold",onMouseDown:function(t){return e.onStyleClick(t,"BOLD")}}),o.a.createElement(E.a,{size:"mini",icon:"italic",onMouseDown:function(t){return e.onStyleClick(t,"ITALIC")}}),o.a.createElement(E.a,{size:"mini",icon:"underline",onMouseDown:function(t){return e.onStyleClick(t,"UNDERLINE")}}),o.a.createElement(E.a,{size:"mini",icon:"strikethrough",onMouseDown:function(t){return e.onStyleClick(t,"STRIKETHROUGH")}}))," ",o.a.createElement(T.a,{button:!0,floating:!0,pointing:"top left",icon:"font"},o.a.createElement(T.a.Menu,null,o.a.createElement(T.a.Item,{selected:!0},o.a.createElement(O.a,{onChangeComplete:function(t){return e.onChangeColor(t)}})))),o.a.createElement(E.a.Group,null,o.a.createElement(E.a,{size:"mini",icon:"chevron up",onMouseDown:function(t){return e.onStyleClick(t,"UPPERCASE")}}),o.a.createElement(E.a,{size:"mini",icon:"chevron down",onMouseDown:function(t){return e.onStyleClick(t,"LOWERCASE")}}))," ",o.a.createElement(E.a.Group,null,o.a.createElement(E.a,{size:"mini",icon:"align left",onMouseDown:function(t){return e.onTextAlign(t,"left")}}),o.a.createElement(E.a,{size:"mini",icon:"align center",onMouseDown:function(t){return e.onTextAlign(t,"center")}}),o.a.createElement(E.a,{size:"mini",icon:"align right",onMouseDown:function(t){return e.onTextAlign(t,"right")}}),o.a.createElement(E.a,{size:"mini",icon:"align justify",onMouseDown:function(t){return e.onTextAlign(t,"justify")}}))," ",o.a.createElement(E.a.Group,null,o.a.createElement(E.a,{size:"mini",icon:"list ul",onMouseDown:function(t){return e.onUnorderListClick(t)}}),o.a.createElement(E.a,{size:"mini",icon:"list ol",onMouseDown:function(t){return e.onOrderListClick(t)}}))," "),o.a.createElement("div",{className:"editorHolder"},o.a.createElement("div",{className:"editor apply-font"},o.a.createElement(w.Editor,{editorState:this.state.editorState,onChange:this.onChange,customStyleMap:this.state.inlineStyles,blockRenderMap:U}))))}}]),n}(o.a.Component),W=n(552),A=function(e){var t=e.logoutHandler;return o.a.createElement(E.a,{id:"qsLogoutBtn",variant:"primary",className:"btn-margin logoutBtn",onClick:t},"Log Out")},B=function(e){var t=e.logoutHandler,n=e.user;return n?o.a.createElement(r.Fragment,null,o.a.createElement("div",null,o.a.createElement("img",{src:n.picture,alt:"Profile"})),o.a.createElement("h3",null,n.email),o.a.createElement(A,{class:"button",logoutHandler:t})):o.a.createElement("div",null,"Loading...")},P=function(e){var t=e.logoutHandler,n=e.user;return o.a.createElement("div",{className:"outerBar"},o.a.createElement("div",null,o.a.createElement(W.a,{as:"h2",image:N.a,content:"HeisenBerg Editor"})),o.a.createElement("div",null,o.a.createElement(T.a,{button:!0,floating:!0,pointing:"top right",icon:"user outline"},o.a.createElement(T.a.Menu,null,o.a.createElement(T.a.Item,{selected:!0},o.a.createElement(B,{logoutHandler:t,user:n}))))))},F=function(e){e.idToken;var t=J(),n=t.loading,a=t.logout,i=t.user;return n?o.a.createElement("div",null,"Loading..."):o.a.createElement("div",{className:"App"},o.a.createElement(P,{logoutHandler:a,user:i}),o.a.createElement(L,null))},H=function(){return window.history.replaceState({},document.title,window.location.pathname)},G=o.a.createContext(),J=function(){return Object(r.useContext)(G)},q=function(e){var t=e.children,n=e.onRedirectCallback,a=void 0===n?H:n,i=Object(d.a)(e,["children","onRedirectCallback"]),l=Object(r.useState)(!1),c=Object(m.a)(l,2),p=c[0],f=c[1],E=Object(r.useState)(),S=Object(m.a)(E,2),y=S[0],C=S[1],k=Object(r.useState)(),b=Object(m.a)(k,2),w=b[0],x=b[1],T=Object(r.useState)(!0),O=Object(m.a)(T,2),D=O[0],j=O[1],R=Object(r.useState)(!1),N=Object(m.a)(R,2),z=N[0],I=N[1],M=Object(r.useState)(""),U=Object(m.a)(M,2),L=U[0],W=U[1];Object(r.useEffect)((function(){(function(){var e=Object(s.a)(u.a.mark((function e(){var t,n,r,o,l,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.a)(i);case 2:if(t=e.sent,x(t),!window.location.search.includes("code=")){e.next=10;break}return e.next=7,t.handleRedirectCallback();case 7:n=e.sent,r=n.appState,a(r);case 10:return e.next=12,t.isAuthenticated();case 12:if(o=e.sent,f(o),!o){e.next=23;break}return e.next=17,t.getUser();case 17:return l=e.sent,C(l),e.next=21,t.getIdTokenClaims();case 21:c=e.sent,W(c.__raw);case 23:j(!1);case 24:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var A=function(){var e=Object(s.a)(u.a.mark((function e(){var t,n,a=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},I(!0),e.prev=2,e.next=5,w.loginWithPopup(t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:return e.prev=10,I(!1),e.finish(10);case 13:return e.next=15,w.getUser();case 15:n=e.sent,C(n),f(!0);case 18:case"end":return e.stop()}}),e,null,[[2,7,10,13]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(s.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,w.handleRedirectCallback();case 3:return t=e.sent,e.next=6,w.getUser();case 6:return n=e.sent,e.next=9,w.getIdTokenClaims();case 9:return a=e.sent,W(a.__raw),j(!1),f(!0),C(n),e.abrupt("return",t);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return D?o.a.createElement(v,null):p?o.a.createElement(G.Provider,{value:{isAuthenticated:p,user:y,loading:D,popupOpen:z,loginWithPopup:A,handleRedirectCallback:B,getIdTokenClaims:function(){return w.getIdTokenClaims.apply(w,arguments)},loginWithRedirect:function(){return w.loginWithRedirect.apply(w,arguments)},getTokenSilently:function(){return w.getTokenSilently.apply(w,arguments)},getTokenWithPopup:function(){return w.getTokenWithPopup.apply(w,arguments)},logout:function(){return w.logout.apply(w,arguments)}}},t,o.a.createElement(F,{idToken:L})):o.a.createElement(G.Provider,{value:{isAuthenticated:p,user:y,loading:D,popupOpen:z,loginWithPopup:A,handleRedirectCallback:B,getIdTokenClaims:function(){return w.getIdTokenClaims.apply(w,arguments)},loginWithRedirect:function(){return w.loginWithRedirect.apply(w,arguments)},getTokenSilently:function(){return w.getTokenSilently.apply(w,arguments)},getTokenWithPopup:function(){return w.getTokenWithPopup.apply(w,arguments)},logout:function(){return w.logout.apply(w,arguments)}}},o.a.createElement(h,null))},_=n(39),K=Object(_.a)(),V="dev-3de3blfg.auth0.com",Z="ekB4WWLkJeIG833t27ScCieVbSEqG00w",Q="http://localhost:3000",X=function(e){K.push(e&&e.targetUrl?e.targetUrl:window.location.pathname)},Y=o.a.createElement(l.b,{history:K},o.a.createElement(l.a,{path:"/",render:function(e){return o.a.createElement(q,{domain:V,client_id:Z,redirect_uri:Q,onRedirectCallback:X})}}));i.a.render(Y,document.getElementById("root"))}},[[296,1,2]]]);
//# sourceMappingURL=main.ef8dc851.chunk.js.map